//
// Generated by Microsoft (R) HLSL Shader Compiler 9.29.952.3111
//
//
//   fxc NBodyCompute.compute /Fc /T cs_5_0 /E StepSimulation
//
//
// Buffer Definitions: 
//
// cbuffer $Globals
// {
//
//   uint numMasses;                    // Offset:    0 Size:     4
//   float deltaTime;                   // Offset:    4 Size:     4
//   float halfDeltaTime;               // Offset:    8 Size:     4
//   float3 cameraPosition;             // Offset:   16 Size:    12 [unused]
//   float4x4 worldToScreenMatrix;      // Offset:   32 Size:    64 [unused]
//   float minColorSpeed;               // Offset:   96 Size:     4 [unused]
//   float maxColorSpeed;               // Offset:  100 Size:     4 [unused]
//
// }
//
// Resource bind info for masses
// {
//
//   struct PointMass
//   {
//       
//       float mass;                    // Offset:    0
//       float3 position;               // Offset:    4
//
//   } $Element;                        // Offset:    0 Size:    16
//
// }
//
// Resource bind info for motions
// {
//
//   struct Motion
//   {
//       
//       float3 velocity;               // Offset:    0
//       float3 acceleration;           // Offset:   12
//
//   } $Element;                        // Offset:    0 Size:    24
//
// }
//
//
// Resource Bindings:
//
// Name                                 Type  Format         Dim Slot Elements
// ------------------------------ ---------- ------- ----------- ---- --------
// masses                                UAV  struct         r/w    0        1
// motions                               UAV  struct         r/w    1        1
// $Globals                          cbuffer      NA          NA    0        1
//
//
//
// Input signature:
//
// Name                 Index   Mask Register SysValue Format   Used
// -------------------- ----- ------ -------- -------- ------ ------
// no Input
//
// Output signature:
//
// Name                 Index   Mask Register SysValue Format   Used
// -------------------- ----- ------ -------- -------- ------ ------
// no Output
cs_5_0
dcl_globalFlags refactoringAllowed
dcl_constantbuffer cb0[1], immediateIndexed
dcl_uav_structured u0, 16
dcl_uav_structured u1, 24
dcl_input vThreadIDInGroupFlattened
dcl_input vThreadID.x
dcl_temps 7
dcl_tgsm_structured g0, 16, 512
dcl_thread_group 512, 1, 1
ld_structured_indexable(structured_buffer, stride=16)(mixed,mixed,mixed,mixed) r0.xyz, vThreadID.x, l(4), u0.xyzx
ld_structured_indexable(structured_buffer, stride=24)(mixed,mixed,mixed,mixed) r1.xyzw, vThreadID.x, l(0), u1.xyzw
ld_structured_indexable(structured_buffer, stride=24)(mixed,mixed,mixed,mixed) r2.xy, vThreadID.x, l(16), u1.xyxx
mov r3.xyz, l(0,0,0,0)
mov r0.w, l(0)
loop 
  uge r2.w, r0.w, cb0[0].x
  breakc_nz r2.w
  iadd r2.w, vThreadIDInGroupFlattened.x, r0.w
  ld_structured_indexable(structured_buffer, stride=16)(mixed,mixed,mixed,mixed) r4.xyzw, r2.w, l(0), u0.xyzw
  store_structured g0.xyzw, vThreadIDInGroupFlattened.x, l(0), r4.xyzw
  sync_g_t
  ieq r2.w, vThreadID.x, r2.w
  mov r4.xyz, r3.xyzx
  mov r3.w, l(0)
  loop 
    uge r4.w, r3.w, l(512)
    breakc_nz r4.w
    ld_structured r5.xyzw, r3.w, l(0), g0.xyzw
    add r5.yzw, -r0.xxyz, r5.yyzw
    dp3 r4.w, r5.yzwy, r5.yzwy
    rsq r4.w, r4.w
    movc r4.w, r2.w, l(0), r4.w
    mul r6.x, r4.w, r4.w
    mul r5.x, r5.x, r6.x
    mul r4.w, r4.w, r5.x
    mad r4.xyz, r5.yzwy, r4.wwww, r4.xyzx
    iadd r3.w, r3.w, l(1)
  endloop 
  mov r3.xyz, r4.xyzx
  iadd r0.w, r0.w, l(512)
endloop 
mul r4.xyz, r3.xyzx, l(0.000000, 0.000000, 0.000000, 0.000000)
mov r2.z, r1.w
mul r5.xyz, r2.zxyz, cb0[0].zzzz
mul r5.xyz, r5.xyzx, cb0[0].yyyy
mad r5.xyz, r1.xyzx, cb0[0].yyyy, r5.xyzx
add r0.xyz, r0.xyzx, r5.xyzx
mad r2.xyz, r3.xyzx, l(0.000000, 0.000000, 0.000000, 0.000000), r2.zxyz
mad r1.xyz, r2.xyzx, cb0[0].zzzz, r1.xyzx
store_structured u0.xyz, vThreadID.x, l(4), r0.xyzx
mov r1.w, r4.x
store_structured u1.xyzw, vThreadID.x, l(0), r1.xyzw
store_structured u1.xy, vThreadID.x, l(16), r4.yzyy
ret 
// Approximately 45 instruction slots used
